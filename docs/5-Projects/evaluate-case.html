
<!DOCTYPE html>


<html lang="zh-CN" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-GESLLLJC6M"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-GESLLLJC6M');
    </script>
    
    <title>评价模型翻译能力 &#8212; 人工智能实践 0.7 文档</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!-- 
    this give us a css class that will be invisible only if js is disabled 
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=26a4bc78f4c0ddb94549" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=26a4bc78f4c0ddb94549" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom.css?v=be9b6ff4" />
  
  <!-- So that users can add custom icons -->
  <script src="../_static/scripts/fontawesome.js?digest=26a4bc78f4c0ddb94549"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=26a4bc78f4c0ddb94549" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=26a4bc78f4c0ddb94549" />

    <script src="../_static/documentation_options.js?v=447f2b7d"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script src="../_static/translations.js?v=beaddf03"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = '5-Projects/evaluate-case';</script>
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="搜索" href="../search.html" />
    <link rel="next" title="提示词导论" href="../6-Prompts/prompts-intro.html" />
    <link rel="prev" title="大模型的评估与选择" href="evaluating-llms.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="zh-CN"/>
  <meta name="docsearch:version" content="" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
  
    <p class="title logo__title">人工智能实践 0.7 文档</p>
  
</a></div>
        <div class="sidebar-primary-item">

<button class="btn search-button-field search-button__button pst-js-only" title="搜索" aria-label="搜索" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">搜索</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">课程简介</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../1-Intro/intro.html">课程大纲</a></li>
<li class="toctree-l1"><a class="reference internal" href="../1-Intro/resources.html">资源</a></li>
<li class="toctree-l1"><a class="reference internal" href="../1-Intro/terms.html">术语</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">大模型基础</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../2-Basics/setup.html">环境准备</a></li>
<li class="toctree-l1"><a class="reference internal" href="../2-Basics/llm-basics.html">LLM 基础</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">基于Transformer的自然语言处理</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../3-Practice/nlp-tasks.html">NLP 任务</a></li>
<li class="toctree-l1"><a class="reference internal" href="../3-Practice/transformer-nlp.html">基于HF Transformer的NLP实践</a></li>
<li class="toctree-l1"><a class="reference internal" href="../3-Practice/classification.html">文本分类</a></li>
<li class="toctree-l1"><a class="reference internal" href="../3-Practice/clusttering.html">文档聚类</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">语言学基础</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../4-Linguistics/linguistics-llm.html">大语言模型与语言学</a></li>
<li class="toctree-l1"><a class="reference internal" href="../4-Linguistics/llm-metrics.html">常见大模型评价指标</a></li>
<li class="toctree-l1"><a class="reference internal" href="../4-Linguistics/translation-metrics.html">译文质量评价方法</a></li>
<li class="toctree-l1"><a class="reference internal" href="../4-Linguistics/linguistics-intro.html">语言学简介</a></li>
<li class="toctree-l1"><a class="reference internal" href="../4-Linguistics/applied-linguistics.html">应用语言学</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">课程实践项目</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="projects.html">课程实践项目要求</a></li>
<li class="toctree-l1"><a class="reference internal" href="evaluating-llms.html">大模型的评估与选择</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">评价模型翻译能力</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">提示词</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../6-Prompts/prompts-intro.html">提示词导论</a></li>
<li class="toctree-l1"><a class="reference internal" href="../6-Prompts/prompts-examples.html">提示词案例分析</a></li>
<li class="toctree-l1"><a class="reference internal" href="../6-Prompts/langchain.html">基于Langchain的提示词开发实践</a></li>
<li class="toctree-l1"><a class="reference internal" href="../6-Prompts/good-examples.html">提示词案例分析</a></li>
<li class="toctree-l1"><a class="reference internal" href="../6-Prompts/jail-break.html">提示词越狱</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">微调</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../fine-tunning/ft-gen-models.html">微调生成式大模型</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fine-tunning/ft-phi4.html">SFT 微调 Phi-4</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fine-tunning/ft-rep-models.html">微调表示型大模型</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fine-tunning/mlm-bert.html">使用MLM微调Bert模型</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fine-tunning/ft-ph4-self.html">练习：使用自监督学习微调Phi4-mini</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fine-tunning/ft-rl.html">基于人类反馈微调大模型（RLHF + DPO）</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">智能体</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../Agents/agents.html">智能体概述</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Agents/LangGraph.html">基于LangGraph的智能体开发</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Agents/mcp.html">模型上下文协议 MCP</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">参考答案</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../answers/transformer-practice-answers.html">基于HF Transformer的NLP实践的练习答案</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="下载此页面">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/5-Projects/evaluate-case.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="下载源文件"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="列印成 PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="全屏模式"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button>


<button class="btn btn-sm pst-navbar-icon search-button search-button__button pst-js-only" title="搜索" aria-label="搜索" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
</button>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>评价模型翻译能力</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> 目录 </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">结果解读</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">数据集</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gpt-o1">使用 gpt-o1 实验：</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">其他评估任务</a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="id1">
<h1>评价模型翻译能力<a class="headerlink" href="#id1" title="Link to this heading">#</a></h1>
<p><strong>EleutherAI 的 <a class="reference external" href="https://github.com/EleutherAI/lm-evaluation-harness">lm-evaluation-harness</a></strong>：其评估基准的示例数量中位数为 1,000，平均数为 2,159。组织者建议评估集的最小规模为 300 个示例，但更倾向于至少包含 1,000 个示例，特别是当这些示例是合成时。</p>
<p><strong>lm-evaluation-harness</strong> 中包含了翻译任务测评的子任务，本文将用该工具对拟采用的模型进行评估。</p>
<ol class="arabic">
<li><p>安装</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>!pip<span class="w"> </span>install<span class="w"> </span>git+https://github.com/EleutherAI/lm-evaluation-harness
</pre></div>
</div>
</li>
<li><p>查看支持的测评任务</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>!lm-eval --tasks list
</pre></div>
</div>
<p>输出（只复制了一行）：</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="p">|</span>bigbench_salient_translation_error_detection_generate_until<span class="w">   </span>
</pre></div>
</div>
<blockquote>
<div><p><strong><a class="reference external" href="https://github.com/google/BIG-bench/tree/main/bigbench/benchmark_tasks/salient_translation_error_detection">Salient Translation Error Detection</a></strong> 是 BIG-bench 基准测试套件中的一个任务，旨在评估语言模型检测翻译中显著错误的能力。该任务的目标是确定模型是否能够识别翻译文本中的关键错误，确保译文的准确性和一致性。目前这个测试集只支持德文和英文的翻译能力测评。</p>
<p><strong>任务特点：</strong></p>
<ul class="simple">
<li><p><strong>错误类型</strong>：模型需要检测翻译中的各种错误类型，包括但不限于：数值错误、命名实体错误、否定或反义词使用错误、修饰语或形容词使用错误、内容遗漏以及事实性错误。</p></li>
<li><p><strong>评估指标</strong>：主要使用准确率（accuracy）等指标来衡量模型在检测翻译错误方面的性能。</p></li>
</ul>
</div></blockquote>
<p>其他详细任务见文末。</p>
</li>
<li><p>评估meta的mbart的德英翻译能力</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>!lm-eval<span class="w"> </span>--model<span class="w"> </span>hf<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--model_args<span class="w"> </span><span class="nv">pretrained</span><span class="o">=</span>facebook/mbart-large-50,trust_remote_code<span class="o">=</span>True<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--tasks<span class="w"> </span>bigbench_salient_translation_error_detection_generate_until<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--device<span class="w"> </span>cuda:0<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--batch_size<span class="w"> </span><span class="m">8</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--output_path<span class="w"> </span>/content/lm_eval_results3
</pre></div>
</div>
<p>输出：</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Tasks</p></th>
<th class="head text-right"><p>Version</p></th>
<th class="head"><p>Filter</p></th>
<th class="head text-right"><p>n-shot</p></th>
<th class="head"><p>Metric</p></th>
<th class="head"><p></p></th>
<th class="head text-right"><p>Value</p></th>
<th class="head"><p></p></th>
<th class="head text-right"><p>Stderr</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>bigbench_salient_translation_error_detection_generate_until</p></td>
<td class="text-right"><p>1.0</p></td>
<td><p>none</p></td>
<td class="text-right"><p>0</p></td>
<td><p>exact_match</p></td>
<td><p>↑</p></td>
<td class="text-right"><p>0.0000</p></td>
<td><p>±</p></td>
<td class="text-right"><p>0.0000</p></td>
</tr>
</tbody>
</table>
</div>
</li>
<li><p>对照GPT-4o的德英翻译能力</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>!pip install tiktoken

import os
os.environ[&#39;OPENAI_API_KEY&#39;] = &#39;your-api-key&#39;

</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>!lm_eval --model openai-chatcompletions \
        --model_args model=gpt-4o \
        --tasks bigbench_salient_translation_error_detection_generate_until \
        --device cuda:0 \
        --batch_size 8 \
        --output_path /content/lm_eval_results4

</pre></div>
</div>
<p>输出结果：</p>
<p>openai-chat-completions (model=gpt-4o), gen_kwargs: (None), limit: None, num_fewshot: None, batch_size: 1</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Tasks</p></th>
<th class="head text-right"><p>Version</p></th>
<th class="head"><p>Filter</p></th>
<th class="head text-right"><p>n-shot</p></th>
<th class="head"><p>Metric</p></th>
<th class="head"><p></p></th>
<th class="head text-right"><p>Value</p></th>
<th class="head"><p></p></th>
<th class="head text-right"><p>Stderr</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>bigbench_salient_translation_error_detection_generate_until</p></td>
<td class="text-right"><p>1</p></td>
<td><p>none</p></td>
<td class="text-right"><p>0</p></td>
<td><p>exact_match</p></td>
<td><p>↑</p></td>
<td class="text-right"><p>0.0341</p></td>
<td><p>±</p></td>
<td class="text-right"><p>0.0057</p></td>
</tr>
</tbody>
</table>
</div>
</li>
</ol>
<section id="id2">
<h2>结果解读<a class="headerlink" href="#id2" title="Link to this heading">#</a></h2>
<p>一开始我以为只是Meta的模型能力一般，然后就尝试了使用gpt-4o，其正确率依然低得吓人，于是我仔细看了一下分析结果。</p>
<section id="id3">
<h3>数据集<a class="headerlink" href="#id3" title="Link to this heading">#</a></h3>
<p>德文句子的来源如下：一组描述（段落）从 <a class="reference external" href="https://github.com/google-research-datasets/wit">WIT</a> 数据集中抽样获得。利用句子分割器（Stanza）提取了描述的第一句，再请商业翻译服务将句子翻译成英文。随后，将这些句对（原文、译文）提供给人工按照如下要求加工数据：在翻译中引入六类错误中的一种，同时尽量不影响翻译的流畅性。</p>
<p>示例数据：</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;input&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Source: Das Einköpfige Ferkelkraut ist eine Pflanzenart aus der Gattung der Ferkelkräuter innerhalb der Familie der Korbblütler.\nTranslation: The two-headed piglet herb is a species of herb in the family.\nThe translation contains an error pertaining to &quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;target_scores&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;Modifiers or Adjectives&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;Numerical Values&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;Negation or Antonyms&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;Named Entities&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;Dropped Content&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;Facts&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span>
<span class="w">        </span><span class="p">}</span>
</pre></div>
</div>
</section>
<section id="gpt-o1">
<h3>使用 gpt-o1 实验：<a class="headerlink" href="#gpt-o1" title="Link to this heading">#</a></h3>
<p>测试集标注的是：”Numerical Values”: 1,</p>
<p>提示词：</p>
<div class="highlight-md notranslate"><div class="highlight"><pre><span></span>&quot;input&quot;: &quot;Source: Der Müggenburger Zollhafen ist ein Hafenbecken in Hamburg-Veddel.\nTranslation: The Müggenburg Harbour is a dock in Hamburg-Veddel, Germany.\nThe translation contains an error pertaining to &quot;,
        &quot;target_scores&quot;: {
         &quot;Modifiers or Adjectives&quot;: 0,
         &quot;Numerical Values&quot;: 0,
         &quot;Negation or Antonyms&quot;: 0,
         &quot;Named Entities&quot;: 0,
         &quot;Dropped Content&quot;: 0,
         &quot;Facts&quot;: 0

Please try to find the error in the input and increase the counter in its corresponding error category.
</pre></div>
</div>
<p>输出：</p>
<div class="highlight-md notranslate"><div class="highlight"><pre><span></span>Analysis of the source and translation:

    Source (German):
    Der Müggenburger Zollhafen ist ein Hafenbecken in Hamburg-Veddel.
    Literally: “The Müggenburger Zollhafen is a harbor basin in Hamburg-Veddel.”

    Translation (English):
    The Müggenburg Harbour is a dock in Hamburg-Veddel, Germany.

The term “Müggenburger Zollhafen” is a specific named entity. In the translation, it was changed to “Müggenburg Harbour,” and the word “Zoll” (“customs”) was dropped entirely. Because “Müggenburger Zollhafen” is the proper name for that port facility, losing “Zoll” is effectively an error in translating or preserving the named entity.

Relevant error category: “Named Entities”

Since the specific name (Müggenburger Zollhafen) was altered and partially dropped (“Zollhafen” → “Harbour”), this counts as a mistake in handling a named entity. Therefore, you would increment the counter for Named Entities by 1.
</pre></div>
</div>
<p>使用ChatGPT 多次查证后发现：原译文将“Hafenbecken”错误地译为“dock”，而“Hafenbecken”指的是“港口水域”或“港口盆地”，而不是“码头”。因此，o3-mini认为这一错误属于事实错误，o1认为是一个实体识别的错误。但是答案认为是一个数值错误。</p>
<p>总之，人工标记的逻辑和模型的逻辑不匹配，该数据集作者也未曾通过其他方式证实该数据集的可靠性。这也是小型数据集的通用问题，人工构建的数据集随意性较大，后续大家使用数据集时要注意选择权威可靠的来源。</p>
</section>
<hr class="docutils" />
<section id="id4">
<h3>其他评估任务<a class="headerlink" href="#id4" title="Link to this heading">#</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">lm-eval</span></code>预制了非常多的任务，具体可以通过下方指令查询</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>!lm-eval<span class="w"> </span>--tasks<span class="w"> </span>list
</pre></div>
</div>
<p>输出的部分结果如下，</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Task</p></th>
<th class="head"><p>Path</p></th>
<th class="head"><p>Type</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>bigbench_mathematical_induction_multiple_choice</p></td>
<td><p>lm_eval/tasks/bigbench/multiple_choice/mathematical_induction.yaml</p></td>
<td><p>multiple_choice</p></td>
</tr>
<tr class="row-odd"><td><p>bigbench_matrixshapes_generate_until</p></td>
<td><p>lm_eval/tasks/bigbench/generate_until/matrixshapes.yaml</p></td>
<td><p>generate_until</p></td>
</tr>
<tr class="row-even"><td><p>bigbench_metaphor_boolean_generate_until</p></td>
<td><p>lm_eval/tasks/bigbench/generate_until/metaphor_boolean.yaml</p></td>
<td><p>generate_until</p></td>
</tr>
<tr class="row-odd"><td><p>bigbench_metaphor_boolean_multiple_choice</p></td>
<td><p>lm_eval/tasks/bigbench/multiple_choice/metaphor_boolean.yaml</p></td>
<td><p>multiple_choice</p></td>
</tr>
<tr class="row-even"><td><p>bigbench_metaphor_understanding_generate_until</p></td>
<td><p>lm_eval/tasks/bigbench/generate_until/metaphor_understanding.yaml</p></td>
<td><p>generate_until</p></td>
</tr>
<tr class="row-odd"><td><p>bigbench_metaphor_understanding_multiple_choice</p></td>
<td><p>lm_eval/tasks/bigbench/multiple_choice/metaphor_understanding.yaml</p></td>
<td><p>multiple_choice</p></td>
</tr>
<tr class="row-even"><td><p>bigbench_minute_mysteries_qa_generate_until</p></td>
<td><p>lm_eval/tasks/bigbench/generate_until/minute_mysteries_qa.yaml</p></td>
<td><p>generate_until</p></td>
</tr>
<tr class="row-odd"><td><p>bigbench_misconceptions_generate_until</p></td>
<td><p>lm_eval/tasks/bigbench/generate_until/misconceptions.yaml</p></td>
<td><p>generate_until</p></td>
</tr>
<tr class="row-even"><td><p>bigbench_misconceptions_multiple_choice</p></td>
<td><p>lm_eval/tasks/bigbench/multiple_choice/misconceptions.yaml</p></td>
<td><p>multiple_choice</p></td>
</tr>
<tr class="row-odd"><td><p>bigbench_misconceptions_russian_generate_until</p></td>
<td><p>lm_eval/tasks/bigbench/generate_until/misconceptions_russian.yaml</p></td>
<td><p>generate_until</p></td>
</tr>
<tr class="row-even"><td><p>bigbench_misconceptions_russian_multiple_choice</p></td>
<td><p>lm_eval/tasks/bigbench/multiple_choice/misconceptions_russian.yaml</p></td>
<td><p>multiple_choice</p></td>
</tr>
<tr class="row-odd"><td><p>bigbench_mnist_ascii_generate_until</p></td>
<td><p>lm_eval/tasks/bigbench/generate_until/mnist_ascii.yaml</p></td>
<td><p>generate_until</p></td>
</tr>
<tr class="row-even"><td><p>bigbench_mnist_ascii_multiple_choice</p></td>
<td><p>lm_eval/tasks/bigbench/multiple_choice/mnist_ascii.yaml</p></td>
<td><p>multiple_choice</p></td>
</tr>
<tr class="row-odd"><td><p>bigbench_modified_arithmetic_generate_until</p></td>
<td><p>lm_eval/tasks/bigbench/generate_until/modified_arithmetic.yaml</p></td>
<td><p>generate_until</p></td>
</tr>
<tr class="row-even"><td><p>bigbench_moral_permissibility_generate_until</p></td>
<td><p>lm_eval/tasks/bigbench/generate_until/moral_permissibility.yaml</p></td>
<td><p>generate_until</p></td>
</tr>
<tr class="row-odd"><td><p>bigbench_moral_permissibility_multiple_choice</p></td>
<td><p>lm_eval/tasks/bigbench/multiple_choice/moral_permissibility.yaml</p></td>
<td><p>multiple_choice</p></td>
</tr>
<tr class="row-even"><td><p>bigbench_movie_dialog_same_or_different_generate_until</p></td>
<td><p>lm_eval/tasks/bigbench/generate_until/movie_dialog_same_or_different.yaml</p></td>
<td><p>generate_until</p></td>
</tr>
<tr class="row-odd"><td><p>bigbench_movie_dialog_same_or_different_multiple_choice</p></td>
<td><p>lm_eval/tasks/bigbench/multiple_choice/movie_dialog_same_or_different.yaml</p></td>
<td><p>multiple_choice</p></td>
</tr>
<tr class="row-even"><td><p>bigbench_movie_recommendation_generate_until</p></td>
<td><p>lm_eval/tasks/bigbench/generate_until/movie_recommendation.yaml</p></td>
<td><p>generate_until</p></td>
</tr>
<tr class="row-odd"><td><p>bigbench_movie_recommendation_multiple_choice</p></td>
<td><p>lm_eval/tasks/bigbench/multiple_choice/movie_recommendation.yaml</p></td>
<td><p>multiple_choice</p></td>
</tr>
<tr class="row-even"><td><p>bigbench_mult_data_wrangling_generate_until</p></td>
<td><p>lm_eval/tasks/bigbench/generate_until/mult_data_wrangling.yaml</p></td>
<td><p>generate_until</p></td>
</tr>
<tr class="row-odd"><td><p>bigbench_multiemo_generate_until</p></td>
<td><p>lm_eval/tasks/bigbench/generate_until/multiemo.yaml</p></td>
<td><p>generate_until</p></td>
</tr>
<tr class="row-even"><td><p>bigbench_multiemo_multiple_choice</p></td>
<td><p>lm_eval/tasks/bigbench/multiple_choice/multiemo.yaml</p></td>
<td><p>multiple_choice</p></td>
</tr>
<tr class="row-odd"><td><p>bigbench_natural_instructions_generate_until</p></td>
<td><p>lm_eval/tasks/bigbench/generate_until/natural_instructions.yaml</p></td>
<td><p>generate_until</p></td>
</tr>
</tbody>
</table>
</div>
<p>其他任务的部分介绍如下：具体的任务介绍可见：<a class="reference external" href="https://github.com/EleutherAI/lm-evaluation-harness/blob/main/lm_eval/tasks/README.md">Tasks</a></p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>任务系列</p></th>
<th class="head"><p>描述</p></th>
<th class="head"><p>语言</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>aclue</p></td>
<td><p>专注于古代汉语理解及文化方面的任务。</p></td>
<td><p>古汉语</p></td>
</tr>
<tr class="row-odd"><td><p>aexams</p></td>
<td><p>与各种学科考试相关的阿拉伯语任务。</p></td>
<td><p>阿拉伯语</p></td>
</tr>
<tr class="row-even"><td><p>agieval</p></td>
<td><p>涉及历史数据或与历史及历史文本相关问题的任务。</p></td>
<td><p>英语，中文</p></td>
</tr>
<tr class="row-odd"><td><p>anli</p></td>
<td><p>对抗性自然语言推理任务，用以测试模型鲁棒性。</p></td>
<td><p>英语</p></td>
</tr>
<tr class="row-even"><td><p>arabic_leaderboard_complete</p></td>
<td><p>开放阿拉伯语大语言模型排行榜中任务的完整版，侧重于评估反映阿拉伯语理解、领会、文化和遗产特点的模型。注意，其中一些任务是机器翻译的。</p></td>
<td><p>阿拉伯语（部分机器翻译）</p></td>
</tr>
<tr class="row-odd"><td><p>arabic_leaderboard_light</p></td>
<td><p>开放阿拉伯语大语言模型排行榜中任务的简化版（即原基准测试集的10%样本），侧重于评估反映阿拉伯语理解、领会、文化和遗产特点的模型。注意，其中一些任务是机器翻译的。</p></td>
<td><p>阿拉伯语（部分机器翻译）</p></td>
</tr>
</tbody>
</table>
</div>
</section>
</section>
</section>


                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="evaluating-llms.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">上一页</p>
        <p class="prev-next-title">大模型的评估与选择</p>
      </div>
    </a>
    <a class="right-next"
       href="../6-Prompts/prompts-intro.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">下一页</p>
        <p class="prev-next-title">提示词导论</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> 目录
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">结果解读</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">数据集</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gpt-o1">使用 gpt-o1 实验：</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">其他评估任务</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
作者： 高志军
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright Zhijun Gao.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../_static/scripts/bootstrap.js?digest=26a4bc78f4c0ddb94549"></script>
<script defer src="../_static/scripts/pydata-sphinx-theme.js?digest=26a4bc78f4c0ddb94549"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>